@page "/"
@using Microsoft.Extensions.Logging
@using Soenneker.Telnyx.Blazor.WebRtc.Configuration

@inject ILogger<Index> Logger

<img src="https://user-images.githubusercontent.com/4441470/224455560-91ed3ee7-f510-4041-a8d2-3fc093025112.png" />
<h1>Soenneker.Telnyx.Blazor.WebRtc demo</h1>
<p>This page demonstrates some of the common usages for the interop library.</p>
<br />

<hr />

<TelnyxWebRtc Options="_options" @ref="_telnyxWebRtc"></TelnyxWebRtc>

<Button Clicked="Call" Color="Color.Primary">Call</Button>

@code{

    TelnyxWebRtc _telnyxWebRtc = null!;

    private readonly TelnyxClientOptions _options = new()
    {
        InitOptions = new TelnyxClientInitOptions
        {
            Login = "",
            Password = ""
        }
    };

    protected async Task Call()
    {
        const string phoneNumber = "";

        await _telnyxWebRtc.Call(new TelnyxCallOptions { CallerNumber = "", DestinationNumber = phoneNumber });
    }

}